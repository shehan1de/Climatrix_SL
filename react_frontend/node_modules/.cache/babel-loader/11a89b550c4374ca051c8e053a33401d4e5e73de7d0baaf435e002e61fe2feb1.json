{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Assignments\\\\Nadil\\\\Final\\\\Climatrix\\\\react_frontend\\\\src\\\\pages\\\\admin\\\\AlertManagement.js\",\n  _s = $RefreshSig$();\n// pages/admin/AlertManagement.js\nimport axios from \"axios\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { FaBell, FaPaperPlane, FaSearch, FaSyncAlt, FaTimes, FaCheckCircle, FaExclamationTriangle } from \"react-icons/fa\";\nimport logo from \"../../assets/logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = \"http://localhost:5001\";\nconst API_PREFIX = \"/api\";\nconst API = axios.create({\n  baseURL: API_BASE\n});\n\n// helper: normalize profile pic like your navbar/profile logic\nconst toImgSrcLikeNavbar = relativePath => {\n  if (!relativePath) return \"https://via.placeholder.com/42?text=U\";\n  return `/${String(relativePath).replace(/^\\/+/, \"\")}`;\n};\nconst AlertManagement = () => {\n  _s();\n  var _results$totalTargets, _results$sent, _results$failed, _results$results;\n  // =========================\n  // Alert UI (login-like)\n  // =========================\n  const [alert, setAlert] = useState({\n    type: \"\",\n    message: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (!alert.message) return;\n    const t = setTimeout(() => setAlert({\n      type: \"\",\n      message: \"\"\n    }), 3000);\n    return () => clearTimeout(t);\n  }, [alert]);\n\n  // =========================\n  // Users + Filters\n  // =========================\n  const [users, setUsers] = useState([]);\n  const [fetchingUsers, setFetchingUsers] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const [roleFilter, setRoleFilter] = useState(\"All\"); // All | Client | Admin\n  const [enabledFilter, setEnabledFilter] = useState(\"Enabled\"); // Enabled | Disabled | All\n\n  // selected users (by userId)\n  const [selected, setSelected] = useState(new Set());\n  const loadUsers = async () => {\n    setFetchingUsers(true);\n    try {\n      // You already have: GET /api/users and GET /api/users/alerts?enabled=true/false\n      // We'll use /api/users (full list) and filter client-side for best UI experience.\n      const res = await API.get(`${API_PREFIX}/users`);\n      setUsers(Array.isArray(res.data) ? res.data : []);\n    } catch (e) {\n      var _e$response, _e$response$data;\n      setAlert({\n        type: \"error\",\n        message: (e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || \"Failed to load users\"\n      });\n    } finally {\n      setFetchingUsers(false);\n    }\n  };\n  useEffect(() => {\n    loadUsers();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const filteredUsers = useMemo(() => {\n    const q = search.trim().toLowerCase();\n    return users.filter(u => {\n      // role filter\n      if (roleFilter !== \"All\" && u.role !== roleFilter) return false;\n\n      // enabled filter\n      if (enabledFilter === \"Enabled\" && !u.emailAlertsEnabled) return false;\n      if (enabledFilter === \"Disabled\" && u.emailAlertsEnabled) return false;\n\n      // search filter\n      if (!q) return true;\n      const blob = `${u.userId} ${u.name} ${u.email}`.toLowerCase();\n      return blob.includes(q);\n    }).sort((a, b) => (a.userId || 0) - (b.userId || 0));\n  }, [users, search, roleFilter, enabledFilter]);\n  const allVisibleSelected = useMemo(() => {\n    if (!filteredUsers.length) return false;\n    return filteredUsers.every(u => selected.has(u.userId));\n  }, [filteredUsers, selected]);\n  const toggleSelectAllVisible = () => {\n    const next = new Set(selected);\n    if (allVisibleSelected) {\n      filteredUsers.forEach(u => next.delete(u.userId));\n    } else {\n      filteredUsers.forEach(u => next.add(u.userId));\n    }\n    setSelected(next);\n  };\n  const toggleSelectOne = userId => {\n    const next = new Set(selected);\n    if (next.has(userId)) next.delete(userId);else next.add(userId);\n    setSelected(next);\n  };\n  const clearSelection = () => setSelected(new Set());\n\n  // =========================\n  // Compose alert\n  // =========================\n  const [alertType, setAlertType] = useState(\"Tsunami\");\n  const [subject, setSubject] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  // Send mode\n  // - \"selected\": send to selected userIds (targetUserIds)\n  // - \"allEnabledClients\": send to enabled clients only\n  // - \"allEnabledAllRoles\": send to enabled users (all roles)\n  const [sendMode, setSendMode] = useState(\"selected\");\n\n  // =========================\n  // Results\n  // =========================\n  const [results, setResults] = useState(null); // {sent, failed, results:[]}\n\n  const canSend = useMemo(() => {\n    const hasMsg = !!message.trim();\n    if (!hasMsg) return false;\n    if (sendMode === \"selected\") return selected.size > 0;\n    return true;\n  }, [message, sendMode, selected.size]);\n  const handleSend = async () => {\n    setAlert({\n      type: \"\",\n      message: \"\"\n    });\n    setResults(null);\n    if (!message.trim()) {\n      setAlert({\n        type: \"error\",\n        message: \"Message is required\"\n      });\n      return;\n    }\n    if (sendMode === \"selected\" && selected.size === 0) {\n      setAlert({\n        type: \"error\",\n        message: \"Select at least one user\"\n      });\n      return;\n    }\n    setLoading(true);\n    try {\n      const payload = {\n        alertType,\n        subject,\n        message\n      };\n      if (sendMode === \"selected\") {\n        payload.targetUserIds = Array.from(selected);\n      } else if (sendMode === \"allEnabledClients\") {\n        payload.sendToRole = \"Client\";\n      } else if (sendMode === \"allEnabledAllRoles\") {\n        payload.sendToRole = \"All\";\n      }\n\n      // âœ… backend: POST /api/admin/alerts/send\n      const res = await API.post(`${API_PREFIX}/admin/alerts/send`, payload);\n      setResults(res.data);\n      setAlert({\n        type: \"success\",\n        message: \"Alert sending finished\"\n      });\n\n      // Optionally refresh users (if you want the latest enabled state)\n      // await loadUsers();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setAlert({\n        type: \"error\",\n        message: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to send alert\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"client-dashboard-page dashboard-bg\",\n    children: [alert.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `login-alert ${alert.type === \"error\" ? \"login-alert-error\" : \"login-alert-success\"}`,\n      children: alert.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"Loading...\",\n        className: \"spinner-logo-large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-hero text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"dashboard-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"brand-gradient\",\n          children: \"Alert\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), \" Management\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"dashboard-subtitle\",\n        children: \"Send emergency email alerts to users who enabled the alert system.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-cards-grid\",\n      style: {\n        gridTemplateColumns: \"1.8fr 1.2fr\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-feature-card text-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-card-top\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-card-icon\",\n            children: /*#__PURE__*/_jsxDEV(FaBell, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dashboard-card-badge\",\n            children: \"Targets\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex gap-2 flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-grow-1 position-relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control glass-input\",\n                placeholder: \"Search by userId, name, email...\",\n                value: search,\n                onChange: e => setSearch(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  position: \"absolute\",\n                  right: 12,\n                  top: \"50%\",\n                  transform: \"translateY(-50%)\",\n                  color: \"#cfcfcf\"\n                },\n                children: /*#__PURE__*/_jsxDEV(FaSearch, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control glass-input\",\n              style: {\n                maxWidth: 180\n              },\n              value: roleFilter,\n              onChange: e => setRoleFilter(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"All\",\n                children: \"All Roles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Client\",\n                children: \"Client\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Admin\",\n                children: \"Admin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control glass-input\",\n              style: {\n                maxWidth: 200\n              },\n              value: enabledFilter,\n              onChange: e => setEnabledFilter(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Enabled\",\n                children: \"Enabled only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Disabled\",\n                children: \"Disabled only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"All\",\n                children: \"All users\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-light\",\n              onClick: loadUsers,\n              disabled: fetchingUsers,\n              title: \"Refresh\",\n              children: [/*#__PURE__*/_jsxDEV(FaSyncAlt, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this), \" \", fetchingUsers ? \"Refreshing...\" : \"Refresh\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-light\",\n              onClick: clearSelection,\n              disabled: selected.size === 0,\n              title: \"Clear selection\",\n              children: [/*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this), \" Clear\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white-50 mt-2\",\n            style: {\n              fontSize: 13\n            },\n            children: [\"Showing \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: filteredUsers.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 23\n            }, this), \" users \\u2022 Selected\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: selected.size\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          style: {\n            overflow: \"auto\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-dark table-hover align-middle mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    width: 54\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: allVisibleSelected,\n                    onChange: toggleSelectAllVisible,\n                    title: \"Select all visible\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"UserId\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Alerts\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [filteredUsers.map(u => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: selected.has(u.userId),\n                    onChange: () => toggleSelectOne(u.userId)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: toImgSrcLikeNavbar(u.profilePicture),\n                    alt: u.name,\n                    style: {\n                      width: 42,\n                      height: 42,\n                      objectFit: \"cover\",\n                      borderRadius: 999,\n                      border: \"2px solid rgba(0,255,65,0.7)\"\n                    },\n                    onError: e => {\n                      e.currentTarget.src = \"https://via.placeholder.com/42?text=U\";\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.userId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.emailAlertsEnabled ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge bg-success\",\n                    children: \"Enabled\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge bg-secondary\",\n                    children: \"Disabled\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 21\n                }, this)]\n              }, u.userId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this)), !filteredUsers.length && /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: 7,\n                  className: \"text-center text-white-50 py-4\",\n                  children: \"No users found for current filters.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-feature-card text-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-card-top\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-card-icon\",\n            children: /*#__PURE__*/_jsxDEV(FaPaperPlane, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dashboard-card-badge\",\n            children: \"Compose\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-white-50\",\n            style: {\n              fontSize: 12\n            },\n            children: \"Sending Mode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-control glass-input\",\n            value: sendMode,\n            onChange: e => setSendMode(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"selected\",\n              children: \"Send to Selected Users (by checkboxes)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"allEnabledClients\",\n              children: \"Send to All Enabled Clients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"allEnabledAllRoles\",\n              children: \"Send to All Enabled Users (All roles)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), sendMode === \"selected\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white-50 mt-2\",\n            style: {\n              fontSize: 13\n            },\n            children: [\"You selected \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: selected.size\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 30\n            }, this), \" user(s).\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-white-50\",\n            style: {\n              fontSize: 12\n            },\n            children: \"Alert Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-control glass-input\",\n            value: alertType,\n            onChange: e => setAlertType(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Tsunami\",\n              children: \"Tsunami\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Flooding\",\n              children: \"Flooding\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Landslide\",\n              children: \"Landslide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Storm\",\n              children: \"Storm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Heatwave\",\n              children: \"Heatwave\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Emergency Alert\",\n              children: \"Emergency Alert\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Custom\",\n              children: \"Custom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-white-50\",\n            style: {\n              fontSize: 12\n            },\n            children: \"Subject (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control glass-input\",\n            placeholder: `Default: ðŸš¨ Climatrix SL Alert - ${alertType}`,\n            value: subject,\n            onChange: e => setSubject(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-white-50\",\n            style: {\n              fontSize: 12\n            },\n            children: \"Message (required)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"form-control glass-input\",\n            rows: 7,\n            placeholder: \"Type the emergency message here...\",\n            value: message,\n            onChange: e => setMessage(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-green-custom w-100 py-2 mt-3\",\n          onClick: handleSend,\n          disabled: !canSend || loading,\n          children: loading ? \"Sending...\" : \"Send Alert Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this), !canSend && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-white-50 mt-2\",\n          style: {\n            fontSize: 12\n          },\n          children: sendMode === \"selected\" ? \"Select at least one enabled user and enter a message.\" : \"Enter a message to send.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }, this), results && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"fw-bold mb-0\",\n              children: \"Send Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-white-50\",\n              style: {\n                fontSize: 12\n              },\n              children: [\"Total: \", (_results$totalTargets = results.totalTargets) !== null && _results$totalTargets !== void 0 ? _results$totalTargets : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 d-flex gap-2 flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge bg-success d-flex align-items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this), \" Sent: \", (_results$sent = results.sent) !== null && _results$sent !== void 0 ? _results$sent : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge bg-danger d-flex align-items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(FaExclamationTriangle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 19\n              }, this), \" Failed: \", (_results$failed = results.failed) !== null && _results$failed !== void 0 ? _results$failed : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            style: {\n              maxHeight: 240,\n              overflow: \"auto\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table table-dark table-sm table-hover align-middle mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"UserId\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 509,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      minWidth: 220\n                    },\n                    children: \"Error\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [(results.results || []).map((r, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: r.userId\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 518,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: r.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 519,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: r.status === \"SENT\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-success\",\n                      children: \"SENT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-danger\",\n                      children: \"FAILED\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 524,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-white-50\",\n                    children: r.error ? String(r.error) : \"â€”\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 25\n                  }, this)]\n                }, `${r.email}-${idx}`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 23\n                }, this)), !((_results$results = results.results) !== null && _results$results !== void 0 && _results$results.length) && /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: 4,\n                    className: \"text-center text-white-50 py-3\",\n                    children: \"No detailed results returned.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 534,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white-50 mt-2\",\n            style: {\n              fontSize: 12\n            },\n            children: \"Tip: Gmail SMTP is safer with sequential sending (your backend already does this).\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n};\n_s(AlertManagement, \"ll/pkZY9MpxfQ+CIrjJu2sjPSf4=\");\n_c = AlertManagement;\nexport default AlertManagement;\nvar _c;\n$RefreshReg$(_c, \"AlertManagement\");","map":{"version":3,"names":["axios","useEffect","useMemo","useState","FaBell","FaPaperPlane","FaSearch","FaSyncAlt","FaTimes","FaCheckCircle","FaExclamationTriangle","logo","jsxDEV","_jsxDEV","API_BASE","API_PREFIX","API","create","baseURL","toImgSrcLikeNavbar","relativePath","String","replace","AlertManagement","_s","_results$totalTargets","_results$sent","_results$failed","_results$results","alert","setAlert","type","message","loading","setLoading","t","setTimeout","clearTimeout","users","setUsers","fetchingUsers","setFetchingUsers","search","setSearch","roleFilter","setRoleFilter","enabledFilter","setEnabledFilter","selected","setSelected","Set","loadUsers","res","get","Array","isArray","data","e","_e$response","_e$response$data","response","filteredUsers","q","trim","toLowerCase","filter","u","role","emailAlertsEnabled","blob","userId","name","email","includes","sort","a","b","allVisibleSelected","length","every","has","toggleSelectAllVisible","next","forEach","delete","add","toggleSelectOne","clearSelection","alertType","setAlertType","subject","setSubject","setMessage","sendMode","setSendMode","results","setResults","canSend","hasMsg","size","handleSend","payload","targetUserIds","from","sendToRole","post","err","_err$response","_err$response$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","style","gridTemplateColumns","placeholder","value","onChange","target","position","right","top","transform","color","maxWidth","onClick","disabled","title","fontSize","overflow","width","checked","map","profilePicture","height","objectFit","borderRadius","border","onError","currentTarget","colSpan","rows","totalTargets","sent","failed","maxHeight","minWidth","r","idx","status","error","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Assignments/Nadil/Final/Climatrix/react_frontend/src/pages/admin/AlertManagement.js"],"sourcesContent":["// pages/admin/AlertManagement.js\nimport axios from \"axios\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n  FaBell,\n  FaPaperPlane,\n  FaSearch,\n  FaSyncAlt,\n  FaTimes,\n  FaCheckCircle,\n  FaExclamationTriangle,\n} from \"react-icons/fa\";\nimport logo from \"../../assets/logo.png\";\n\nconst API_BASE = \"http://localhost:5001\";\nconst API_PREFIX = \"/api\";\nconst API = axios.create({ baseURL: API_BASE });\n\n// helper: normalize profile pic like your navbar/profile logic\nconst toImgSrcLikeNavbar = (relativePath) => {\n  if (!relativePath) return \"https://via.placeholder.com/42?text=U\";\n  return `/${String(relativePath).replace(/^\\/+/, \"\")}`;\n};\n\nconst AlertManagement = () => {\n  // =========================\n  // Alert UI (login-like)\n  // =========================\n  const [alert, setAlert] = useState({ type: \"\", message: \"\" });\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (!alert.message) return;\n    const t = setTimeout(() => setAlert({ type: \"\", message: \"\" }), 3000);\n    return () => clearTimeout(t);\n  }, [alert]);\n\n  // =========================\n  // Users + Filters\n  // =========================\n  const [users, setUsers] = useState([]);\n  const [fetchingUsers, setFetchingUsers] = useState(false);\n\n  const [search, setSearch] = useState(\"\");\n  const [roleFilter, setRoleFilter] = useState(\"All\"); // All | Client | Admin\n  const [enabledFilter, setEnabledFilter] = useState(\"Enabled\"); // Enabled | Disabled | All\n\n  // selected users (by userId)\n  const [selected, setSelected] = useState(new Set());\n\n  const loadUsers = async () => {\n    setFetchingUsers(true);\n    try {\n      // You already have: GET /api/users and GET /api/users/alerts?enabled=true/false\n      // We'll use /api/users (full list) and filter client-side for best UI experience.\n      const res = await API.get(`${API_PREFIX}/users`);\n      setUsers(Array.isArray(res.data) ? res.data : []);\n    } catch (e) {\n      setAlert({\n        type: \"error\",\n        message: e?.response?.data?.message || \"Failed to load users\",\n      });\n    } finally {\n      setFetchingUsers(false);\n    }\n  };\n\n  useEffect(() => {\n    loadUsers();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const filteredUsers = useMemo(() => {\n    const q = search.trim().toLowerCase();\n\n    return users\n      .filter((u) => {\n        // role filter\n        if (roleFilter !== \"All\" && u.role !== roleFilter) return false;\n\n        // enabled filter\n        if (enabledFilter === \"Enabled\" && !u.emailAlertsEnabled) return false;\n        if (enabledFilter === \"Disabled\" && u.emailAlertsEnabled) return false;\n\n        // search filter\n        if (!q) return true;\n        const blob = `${u.userId} ${u.name} ${u.email}`.toLowerCase();\n        return blob.includes(q);\n      })\n      .sort((a, b) => (a.userId || 0) - (b.userId || 0));\n  }, [users, search, roleFilter, enabledFilter]);\n\n  const allVisibleSelected = useMemo(() => {\n    if (!filteredUsers.length) return false;\n    return filteredUsers.every((u) => selected.has(u.userId));\n  }, [filteredUsers, selected]);\n\n  const toggleSelectAllVisible = () => {\n    const next = new Set(selected);\n    if (allVisibleSelected) {\n      filteredUsers.forEach((u) => next.delete(u.userId));\n    } else {\n      filteredUsers.forEach((u) => next.add(u.userId));\n    }\n    setSelected(next);\n  };\n\n  const toggleSelectOne = (userId) => {\n    const next = new Set(selected);\n    if (next.has(userId)) next.delete(userId);\n    else next.add(userId);\n    setSelected(next);\n  };\n\n  const clearSelection = () => setSelected(new Set());\n\n  // =========================\n  // Compose alert\n  // =========================\n  const [alertType, setAlertType] = useState(\"Tsunami\");\n  const [subject, setSubject] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  // Send mode\n  // - \"selected\": send to selected userIds (targetUserIds)\n  // - \"allEnabledClients\": send to enabled clients only\n  // - \"allEnabledAllRoles\": send to enabled users (all roles)\n  const [sendMode, setSendMode] = useState(\"selected\");\n\n  // =========================\n  // Results\n  // =========================\n  const [results, setResults] = useState(null); // {sent, failed, results:[]}\n\n  const canSend = useMemo(() => {\n    const hasMsg = !!message.trim();\n    if (!hasMsg) return false;\n\n    if (sendMode === \"selected\") return selected.size > 0;\n    return true;\n  }, [message, sendMode, selected.size]);\n\n  const handleSend = async () => {\n    setAlert({ type: \"\", message: \"\" });\n    setResults(null);\n\n    if (!message.trim()) {\n      setAlert({ type: \"error\", message: \"Message is required\" });\n      return;\n    }\n\n    if (sendMode === \"selected\" && selected.size === 0) {\n      setAlert({ type: \"error\", message: \"Select at least one user\" });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const payload = {\n        alertType,\n        subject,\n        message,\n      };\n\n      if (sendMode === \"selected\") {\n        payload.targetUserIds = Array.from(selected);\n      } else if (sendMode === \"allEnabledClients\") {\n        payload.sendToRole = \"Client\";\n      } else if (sendMode === \"allEnabledAllRoles\") {\n        payload.sendToRole = \"All\";\n      }\n\n      // âœ… backend: POST /api/admin/alerts/send\n      const res = await API.post(`${API_PREFIX}/admin/alerts/send`, payload);\n\n      setResults(res.data);\n      setAlert({ type: \"success\", message: \"Alert sending finished\" });\n\n      // Optionally refresh users (if you want the latest enabled state)\n      // await loadUsers();\n    } catch (err) {\n      setAlert({\n        type: \"error\",\n        message: err.response?.data?.message || \"Failed to send alert\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"client-dashboard-page dashboard-bg\">\n      {/* âœ… Login-like Alert */}\n      {alert.message && (\n        <div\n          className={`login-alert ${\n            alert.type === \"error\"\n              ? \"login-alert-error\"\n              : \"login-alert-success\"\n          }`}\n        >\n          {alert.message}\n        </div>\n      )}\n\n      {/* âœ… Loading overlay like login/register */}\n      {loading && (\n        <div className=\"loading-overlay\">\n          <img src={logo} alt=\"Loading...\" className=\"spinner-logo-large\" />\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"dashboard-hero text-center\">\n        <h1 className=\"dashboard-title\">\n          <span className=\"brand-gradient\">Alert</span> Management\n        </h1>\n        <p className=\"dashboard-subtitle\">\n          Send emergency email alerts to users who enabled the alert system.\n        </p>\n      </div>\n\n      {/* Main layout: left users table + right composer */}\n      <div\n        className=\"dashboard-cards-grid\"\n        style={{ gridTemplateColumns: \"1.8fr 1.2fr\" }}\n      >\n        {/* =========================\n            LEFT: Users panel\n        ========================= */}\n        <div className=\"dashboard-feature-card text-white\">\n          <div className=\"dashboard-card-top\">\n            <div className=\"dashboard-card-icon\">\n              <FaBell />\n            </div>\n            <span className=\"dashboard-card-badge\">Targets</span>\n          </div>\n\n          {/* Filters */}\n          <div className=\"mt-3\">\n            <div className=\"d-flex gap-2 flex-wrap\">\n              <div className=\"flex-grow-1 position-relative\">\n                <input\n                  className=\"form-control glass-input\"\n                  placeholder=\"Search by userId, name, email...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                />\n                <span\n                  style={{\n                    position: \"absolute\",\n                    right: 12,\n                    top: \"50%\",\n                    transform: \"translateY(-50%)\",\n                    color: \"#cfcfcf\",\n                  }}\n                >\n                  <FaSearch />\n                </span>\n              </div>\n\n              <select\n                className=\"form-control glass-input\"\n                style={{ maxWidth: 180 }}\n                value={roleFilter}\n                onChange={(e) => setRoleFilter(e.target.value)}\n              >\n                <option value=\"All\">All Roles</option>\n                <option value=\"Client\">Client</option>\n                <option value=\"Admin\">Admin</option>\n              </select>\n\n              <select\n                className=\"form-control glass-input\"\n                style={{ maxWidth: 200 }}\n                value={enabledFilter}\n                onChange={(e) => setEnabledFilter(e.target.value)}\n              >\n                <option value=\"Enabled\">Enabled only</option>\n                <option value=\"Disabled\">Disabled only</option>\n                <option value=\"All\">All users</option>\n              </select>\n\n              <button\n                className=\"btn btn-outline-light\"\n                onClick={loadUsers}\n                disabled={fetchingUsers}\n                title=\"Refresh\"\n              >\n                <FaSyncAlt /> {fetchingUsers ? \"Refreshing...\" : \"Refresh\"}\n              </button>\n\n              <button\n                className=\"btn btn-outline-light\"\n                onClick={clearSelection}\n                disabled={selected.size === 0}\n                title=\"Clear selection\"\n              >\n                <FaTimes /> Clear\n              </button>\n            </div>\n\n            <div className=\"text-white-50 mt-2\" style={{ fontSize: 13 }}>\n              Showing <b>{filteredUsers.length}</b> users â€¢ Selected{\" \"}\n              <b>{selected.size}</b>\n            </div>\n          </div>\n\n          {/* Table */}\n          <div className=\"mt-3\" style={{ overflow: \"auto\" }}>\n            <table className=\"table table-dark table-hover align-middle mb-0\">\n              <thead>\n                <tr>\n                  <th style={{ width: 54 }}>\n                    <input\n                      type=\"checkbox\"\n                      checked={allVisibleSelected}\n                      onChange={toggleSelectAllVisible}\n                      title=\"Select all visible\"\n                    />\n                  </th>\n                  <th>Profile</th>\n                  <th>UserId</th>\n                  <th>Name</th>\n                  <th>Email</th>\n                  <th>Role</th>\n                  <th>Alerts</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredUsers.map((u) => (\n                  <tr key={u.userId}>\n                    <td>\n                      <input\n                        type=\"checkbox\"\n                        checked={selected.has(u.userId)}\n                        onChange={() => toggleSelectOne(u.userId)}\n                      />\n                    </td>\n                    <td>\n                      <img\n                        src={toImgSrcLikeNavbar(u.profilePicture)}\n                        alt={u.name}\n                        style={{\n                          width: 42,\n                          height: 42,\n                          objectFit: \"cover\",\n                          borderRadius: 999,\n                          border: \"2px solid rgba(0,255,65,0.7)\",\n                        }}\n                        onError={(e) => {\n                          e.currentTarget.src =\n                            \"https://via.placeholder.com/42?text=U\";\n                        }}\n                      />\n                    </td>\n                    <td>{u.userId}</td>\n                    <td>{u.name}</td>\n                    <td>{u.email}</td>\n                    <td>{u.role}</td>\n                    <td>\n                      {u.emailAlertsEnabled ? (\n                        <span className=\"badge bg-success\">Enabled</span>\n                      ) : (\n                        <span className=\"badge bg-secondary\">Disabled</span>\n                      )}\n                    </td>\n                  </tr>\n                ))}\n\n                {!filteredUsers.length && (\n                  <tr>\n                    <td colSpan={7} className=\"text-center text-white-50 py-4\">\n                      No users found for current filters.\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* =========================\n            RIGHT: Composer + Results\n        ========================= */}\n        <div className=\"dashboard-feature-card text-white\">\n          <div className=\"dashboard-card-top\">\n            <div className=\"dashboard-card-icon\">\n              <FaPaperPlane />\n            </div>\n            <span className=\"dashboard-card-badge\">Compose</span>\n          </div>\n\n          {/* Send Mode */}\n          <div className=\"mt-3\">\n            <label className=\"text-white-50\" style={{ fontSize: 12 }}>\n              Sending Mode\n            </label>\n            <select\n              className=\"form-control glass-input\"\n              value={sendMode}\n              onChange={(e) => setSendMode(e.target.value)}\n            >\n              <option value=\"selected\">\n                Send to Selected Users (by checkboxes)\n              </option>\n              <option value=\"allEnabledClients\">\n                Send to All Enabled Clients\n              </option>\n              <option value=\"allEnabledAllRoles\">\n                Send to All Enabled Users (All roles)\n              </option>\n            </select>\n\n            {sendMode === \"selected\" && (\n              <div className=\"text-white-50 mt-2\" style={{ fontSize: 13 }}>\n                You selected <b>{selected.size}</b> user(s).\n              </div>\n            )}\n          </div>\n\n          {/* Alert type */}\n          <div className=\"mt-3\">\n            <label className=\"text-white-50\" style={{ fontSize: 12 }}>\n              Alert Type\n            </label>\n            <select\n              className=\"form-control glass-input\"\n              value={alertType}\n              onChange={(e) => setAlertType(e.target.value)}\n            >\n              <option value=\"Tsunami\">Tsunami</option>\n              <option value=\"Flooding\">Flooding</option>\n              <option value=\"Landslide\">Landslide</option>\n              <option value=\"Storm\">Storm</option>\n              <option value=\"Heatwave\">Heatwave</option>\n              <option value=\"Emergency Alert\">Emergency Alert</option>\n              <option value=\"Custom\">Custom</option>\n            </select>\n          </div>\n\n          {/* Subject */}\n          <div className=\"mt-3\">\n            <label className=\"text-white-50\" style={{ fontSize: 12 }}>\n              Subject (optional)\n            </label>\n            <input\n              className=\"form-control glass-input\"\n              placeholder={`Default: ðŸš¨ Climatrix SL Alert - ${alertType}`}\n              value={subject}\n              onChange={(e) => setSubject(e.target.value)}\n            />\n          </div>\n\n          {/* Message */}\n          <div className=\"mt-3\">\n            <label className=\"text-white-50\" style={{ fontSize: 12 }}>\n              Message (required)\n            </label>\n            <textarea\n              className=\"form-control glass-input\"\n              rows={7}\n              placeholder=\"Type the emergency message here...\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n            />\n          </div>\n\n          {/* Send button */}\n          <button\n            className=\"btn btn-green-custom w-100 py-2 mt-3\"\n            onClick={handleSend}\n            disabled={!canSend || loading}\n          >\n            {loading ? \"Sending...\" : \"Send Alert Email\"}\n          </button>\n\n          {!canSend && (\n            <div className=\"text-white-50 mt-2\" style={{ fontSize: 12 }}>\n              {sendMode === \"selected\"\n                ? \"Select at least one enabled user and enter a message.\"\n                : \"Enter a message to send.\"}\n            </div>\n          )}\n\n          {/* Results */}\n          {results && (\n            <div className=\"mt-4\">\n              <div className=\"d-flex align-items-center justify-content-between\">\n                <h6 className=\"fw-bold mb-0\">Send Results</h6>\n                <span className=\"text-white-50\" style={{ fontSize: 12 }}>\n                  Total: {results.totalTargets ?? 0}\n                </span>\n              </div>\n\n              <div className=\"mt-2 d-flex gap-2 flex-wrap\">\n                <span className=\"badge bg-success d-flex align-items-center gap-1\">\n                  <FaCheckCircle /> Sent: {results.sent ?? 0}\n                </span>\n                <span className=\"badge bg-danger d-flex align-items-center gap-1\">\n                  <FaExclamationTriangle /> Failed: {results.failed ?? 0}\n                </span>\n              </div>\n\n              <div className=\"mt-3\" style={{ maxHeight: 240, overflow: \"auto\" }}>\n                <table className=\"table table-dark table-sm table-hover align-middle mb-0\">\n                  <thead>\n                    <tr>\n                      <th>UserId</th>\n                      <th>Email</th>\n                      <th>Status</th>\n                      <th style={{ minWidth: 220 }}>Error</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {(results.results || []).map((r, idx) => (\n                      <tr key={`${r.email}-${idx}`}>\n                        <td>{r.userId}</td>\n                        <td>{r.email}</td>\n                        <td>\n                          {r.status === \"SENT\" ? (\n                            <span className=\"badge bg-success\">SENT</span>\n                          ) : (\n                            <span className=\"badge bg-danger\">FAILED</span>\n                          )}\n                        </td>\n                        <td className=\"text-white-50\">\n                          {r.error ? String(r.error) : \"â€”\"}\n                        </td>\n                      </tr>\n                    ))}\n                    {!results.results?.length && (\n                      <tr>\n                        <td colSpan={4} className=\"text-center text-white-50 py-3\">\n                          No detailed results returned.\n                        </td>\n                      </tr>\n                    )}\n                  </tbody>\n                </table>\n              </div>\n\n              <div className=\"text-white-50 mt-2\" style={{ fontSize: 12 }}>\n                Tip: Gmail SMTP is safer with sequential sending (your backend already does this).\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AlertManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}