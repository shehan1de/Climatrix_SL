{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Assignments\\\\Nadil\\\\Final\\\\Climatrix\\\\react_frontend\\\\src\\\\pages\\\\admin\\\\QueryManagement.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { FaEnvelope, FaEye, FaReply, FaSyncAlt, FaTimes } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = \"http://localhost:5001\";\nconst API_PREFIX = \"/api\";\nconst API = axios.create({\n  baseURL: API_BASE\n});\nconst toDateTime = iso => {\n  if (!iso) return \"—\";\n  const d = new Date(iso);\n  if (Number.isNaN(d.getTime())) return \"—\";\n  return d.toLocaleString();\n};\nconst QueryManagement = () => {\n  _s();\n  // auth (admin)\n  const stored = useMemo(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"user\")) || null;\n    } catch {\n      return null;\n    }\n  }, []);\n  const adminId = stored === null || stored === void 0 ? void 0 : stored.userId;\n\n  // data\n  const [queries, setQueries] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // alert UI like Login/UserManagement\n  const [alert, setAlert] = useState({\n    type: \"\",\n    message: \"\"\n  });\n\n  // filters\n  const [search, setSearch] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"All\"); // All | Pending | Resolved\n  const [sortOrder, setSortOrder] = useState(\"latest\"); // latest | oldest\n\n  // reply modal\n  const [showReplyModal, setShowReplyModal] = useState(false);\n  const [replyTarget, setReplyTarget] = useState(null);\n  const [replyForm, setReplyForm] = useState({\n    subject: \"\",\n    replyMessage: \"\"\n  });\n  const [sending, setSending] = useState(false);\n\n  // view answer modal\n  const [showViewModal, setShowViewModal] = useState(false);\n  const [viewTarget, setViewTarget] = useState(null);\n\n  // auto hide alert\n  useEffect(() => {\n    if (alert.message) {\n      const timer = setTimeout(() => setAlert({\n        type: \"\",\n        message: \"\"\n      }), 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [alert]);\n  const setErr = message => setAlert({\n    type: \"error\",\n    message\n  });\n  const setOk = message => setAlert({\n    type: \"success\",\n    message\n  });\n\n  // =========================\n  // Fetch queries\n  // =========================\n  const fetchQueries = async () => {\n    setLoading(true);\n    try {\n      var _res$data;\n      const res = await API.get(`${API_PREFIX}/admin/queries`);\n      const arr = Array.isArray((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.queries) ? res.data.queries : [];\n      setQueries(arr);\n    } catch (e) {\n      setErr(\"Failed to load queries\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchQueries();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [adminId]);\n\n  // =========================\n  // Filtered list\n  // =========================\n  const filtered = useMemo(() => {\n    const q = search.trim().toLowerCase();\n    const list = queries.filter(x => {\n      if (statusFilter === \"All\") return true;\n      return String(x.status || \"\") === statusFilter;\n    }).filter(x => {\n      if (!q) return true;\n      const hay = `${x.queryId} ${x.name} ${x.email} ${x.message} ${x.status} ${x.replyMessage || \"\"}`.toLowerCase();\n      return hay.includes(q);\n    });\n    list.sort((a, b) => {\n      const da = new Date(a.createdAt || 0).getTime();\n      const db = new Date(b.createdAt || 0).getTime();\n      return sortOrder === \"latest\" ? db - da : da - db;\n    });\n    return list;\n  }, [queries, search, statusFilter, sortOrder]);\n  const counts = useMemo(() => {\n    const pending = queries.filter(q => q.status === \"Pending\").length;\n    const resolved = queries.filter(q => q.status === \"Resolved\").length;\n    return {\n      pending,\n      resolved,\n      total: queries.length\n    };\n  }, [queries]);\n\n  // =========================\n  // Reply modal handlers\n  // =========================\n  const openReply = q => {\n    setReplyTarget(q);\n    setReplyForm({\n      subject: `Re: ${(q === null || q === void 0 ? void 0 : q.queryId) || \"Climatrix SL Support\"}`,\n      replyMessage: \"\"\n    });\n    setShowReplyModal(true);\n  };\n  const closeReply = () => {\n    setShowReplyModal(false);\n    setReplyTarget(null);\n    setReplyForm({\n      subject: \"\",\n      replyMessage: \"\"\n    });\n  };\n  const submitReply = async () => {\n    if (!(replyTarget !== null && replyTarget !== void 0 && replyTarget._id)) return;\n    const msg = String(replyForm.replyMessage || \"\").trim();\n    if (!msg) return setErr(\"Reply message is required\");\n    setSending(true);\n    try {\n      await API.post(`${API_PREFIX}/admin/queries/${replyTarget._id}/reply`, {\n        subject: replyForm.subject,\n        replyMessage: msg,\n        repliedBy: adminId // optional, stored in DB\n      });\n      setOk(\"Reply sent and query marked as resolved\");\n      closeReply();\n      fetchQueries();\n    } catch (e) {\n      var _e$response, _e$response$data;\n      setErr((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || \"Failed to send reply\");\n    } finally {\n      setSending(false);\n    }\n  };\n\n  // =========================\n  // View answer modal handlers\n  // =========================\n  const openView = q => {\n    setViewTarget(q);\n    setShowViewModal(true);\n  };\n  const closeView = () => {\n    setShowViewModal(false);\n    setViewTarget(null);\n  };\n  const statusChipClass = s => s === \"Resolved\" ? \"chip chip-strong\" : \"chip\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"history-page\",\n    children: [alert.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `login-alert ${alert.type === \"error\" ? \"login-alert-error\" : \"login-alert-success\"}`,\n      children: alert.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-light\",\n        role: \"status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history-hero\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"history-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"brand-gradient\",\n            children: \"Query\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), \" Management\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"history-subtitle\",\n          children: \"Review user queries, reply by email, and track resolved tickets.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-white-50\",\n          style: {\n            marginTop: 8\n          },\n          children: [\"Total: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            className: \"text-white\",\n            children: counts.total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 20\n          }, this), \" \\u2022 Pending:\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n            className: \"text-white\",\n            children: counts.pending\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), \" \\u2022 Resolved:\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n            className: \"text-white\",\n            children: counts.resolved\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-panel history-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-controls-row\",\n          style: {\n            gridTemplateColumns: \"1.2fr 0.7fr 0.6fr 0.35fr\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control glass-input history-search\",\n            placeholder: \"Search by id, name, email, status, message...\",\n            value: search,\n            onChange: e => setSearch(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-select glass-select history-select\",\n            value: statusFilter,\n            onChange: e => setStatusFilter(e.target.value),\n            title: \"Status filter\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"All\",\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Pending\",\n              children: \"Pending\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Resolved\",\n              children: \"Resolved\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-select glass-select history-select\",\n            value: sortOrder,\n            onChange: e => setSortOrder(e.target.value),\n            title: \"Sort\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"latest\",\n              children: \"Latest\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"oldest\",\n              children: \"Oldest\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-light history-refresh icon-btn\",\n            onClick: fetchQueries,\n            disabled: loading,\n            title: \"Refresh\",\n            type: \"button\",\n            children: /*#__PURE__*/_jsxDEV(FaSyncAlt, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-count text-white-50\",\n          children: [\"Showing \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: filtered.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 21\n          }, this), \" of \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: queries.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 49\n          }, this), \" queries\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-panel mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ins-card-title\",\n          children: \"All Queries\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ins-table-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-dark table-hover mb-0 ins-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    width: 110\n                  },\n                  children: \"Query ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    width: 160\n                  },\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    width: 210\n                  },\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Message\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    width: 110\n                  },\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    width: 160\n                  },\n                  children: \"Submitted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    width: 160\n                  },\n                  children: \"Answered\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    width: 150\n                  },\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: !loading && filtered.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"8\",\n                  className: \"text-center text-white-50 py-4\",\n                  children: \"No queries found (for current filters)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this) : filtered.map(q => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: q.queryId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: q.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: q.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    maxWidth: 520\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      whiteSpace: \"nowrap\",\n                      overflow: \"hidden\",\n                      textOverflow: \"ellipsis\",\n                      maxWidth: 520\n                    },\n                    title: q.message,\n                    children: q.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: statusChipClass(q.status),\n                    children: q.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: toDateTime(q.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: q.status === \"Resolved\" ? toDateTime(q.repliedAt) : \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      gap: 10\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"icon-action-btn\",\n                      title: \"Reply\",\n                      type: \"button\",\n                      onClick: () => openReply(q),\n                      children: /*#__PURE__*/_jsxDEV(FaReply, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"icon-action-btn\",\n                      title: \"View Answer\",\n                      type: \"button\",\n                      disabled: q.status !== \"Resolved\",\n                      onClick: () => openView(q),\n                      children: /*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 335,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"icon-action-btn\",\n                      title: \"Email\",\n                      type: \"button\",\n                      onClick: () => openReply(q),\n                      children: /*#__PURE__*/_jsxDEV(FaEnvelope, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 339,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 23\n                }, this)]\n              }, q._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ins-table-note text-white-50\",\n          children: [\"Pending queries can be replied to via email. Once replied, they are marked as\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Resolved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), \" and the answer is saved.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), showReplyModal && replyTarget && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal d-block logout-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog modal-dialog-centered\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content logout-glass-card text-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header border-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title fw-bold\",\n              children: [\"Reply to \", replyTarget.queryId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-link text-white\",\n              onClick: closeReply,\n              style: {\n                textDecoration: \"none\"\n              },\n              \"aria-label\": \"Close\",\n              type: \"button\",\n              children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-white-50\",\n              style: {\n                fontSize: 13\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 21\n                }, this), \" \", replyTarget.name, \" (\", replyTarget.email, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Submitted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 21\n                }, this), \" \", toDateTime(replyTarget.createdAt)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ins-label\",\n                children: \"User Message\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  whiteSpace: \"pre-wrap\",\n                  background: \"rgba(0,0,0,0.22)\",\n                  border: \"1px solid rgba(255,255,255,0.10)\",\n                  borderRadius: 14,\n                  padding: 12\n                },\n                children: replyTarget.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"ins-label\",\n                children: \"Subject (optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control glass-input\",\n                value: replyForm.subject,\n                onChange: e => setReplyForm(p => ({\n                  ...p,\n                  subject: e.target.value\n                })),\n                placeholder: \"Subject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"ins-label\",\n                children: \"Reply Message\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"form-control glass-input\",\n                rows: 6,\n                value: replyForm.replyMessage,\n                onChange: e => setReplyForm(p => ({\n                  ...p,\n                  replyMessage: e.target.value\n                })),\n                placeholder: \"Type your reply...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-white-50 mt-2\",\n              style: {\n                fontSize: 12\n              },\n              children: [\"Sending will email the user and mark this query as \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Resolved\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 70\n              }, this), \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer border-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-light\",\n              onClick: closeReply,\n              type: \"button\",\n              disabled: sending,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-green-custom\",\n              onClick: submitReply,\n              type: \"button\",\n              disabled: sending,\n              children: sending ? \"Sending...\" : \"Send Reply\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 9\n    }, this), showViewModal && viewTarget && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal d-block logout-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog modal-dialog-centered\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content logout-glass-card text-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header border-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title fw-bold\",\n              children: [\"Answer \\u2022 \", viewTarget.queryId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-link text-white\",\n              onClick: closeView,\n              style: {\n                textDecoration: \"none\"\n              },\n              \"aria-label\": \"Close\",\n              type: \"button\",\n              children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-white-50\",\n              style: {\n                fontSize: 13\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 21\n                }, this), \" \", viewTarget.name, \" (\", viewTarget.email, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Submitted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 21\n                }, this), \" \", toDateTime(viewTarget.createdAt)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Answered\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 21\n                }, this), \" \", toDateTime(viewTarget.repliedAt)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 19\n              }, this), viewTarget.repliedBy !== null && viewTarget.repliedBy !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Replied By (Admin ID)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 23\n                }, this), \" \", viewTarget.repliedBy]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ins-label\",\n                children: \"User Message\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  whiteSpace: \"pre-wrap\",\n                  background: \"rgba(0,0,0,0.22)\",\n                  border: \"1px solid rgba(255,255,255,0.10)\",\n                  borderRadius: 14,\n                  padding: 12\n                },\n                children: viewTarget.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ins-label\",\n                children: \"Admin Reply\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  whiteSpace: \"pre-wrap\",\n                  background: \"rgba(0,0,0,0.22)\",\n                  border: \"1px solid rgba(255,255,255,0.10)\",\n                  borderRadius: 14,\n                  padding: 12\n                },\n                children: viewTarget.replyMessage || \"—\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer border-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-light\",\n              onClick: closeView,\n              type: \"button\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-green-custom\",\n              onClick: () => {\n                closeView();\n                openReply(viewTarget);\n              },\n              type: \"button\",\n              children: \"Reply Again\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n};\n_s(QueryManagement, \"eGUyjMN0cmxoKlgGrJmt3zrxMBQ=\");\n_c = QueryManagement;\nexport default QueryManagement;\nvar _c;\n$RefreshReg$(_c, \"QueryManagement\");","map":{"version":3,"names":["axios","useEffect","useMemo","useState","FaEnvelope","FaEye","FaReply","FaSyncAlt","FaTimes","jsxDEV","_jsxDEV","API_BASE","API_PREFIX","API","create","baseURL","toDateTime","iso","d","Date","Number","isNaN","getTime","toLocaleString","QueryManagement","_s","stored","JSON","parse","localStorage","getItem","adminId","userId","queries","setQueries","loading","setLoading","alert","setAlert","type","message","search","setSearch","statusFilter","setStatusFilter","sortOrder","setSortOrder","showReplyModal","setShowReplyModal","replyTarget","setReplyTarget","replyForm","setReplyForm","subject","replyMessage","sending","setSending","showViewModal","setShowViewModal","viewTarget","setViewTarget","timer","setTimeout","clearTimeout","setErr","setOk","fetchQueries","_res$data","res","get","arr","Array","isArray","data","e","filtered","q","trim","toLowerCase","list","filter","x","String","status","hay","queryId","name","email","includes","sort","a","b","da","createdAt","db","counts","pending","length","resolved","total","openReply","closeReply","submitReply","_id","msg","post","repliedBy","_e$response","_e$response$data","response","openView","closeView","statusChipClass","s","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","style","marginTop","gridTemplateColumns","placeholder","value","onChange","target","title","onClick","disabled","width","colSpan","map","maxWidth","whiteSpace","overflow","textOverflow","repliedAt","display","gap","textDecoration","fontSize","background","border","borderRadius","padding","p","rows","undefined","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Assignments/Nadil/Final/Climatrix/react_frontend/src/pages/admin/QueryManagement.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { FaEnvelope, FaEye, FaReply, FaSyncAlt, FaTimes } from \"react-icons/fa\";\n\nconst API_BASE = \"http://localhost:5001\";\nconst API_PREFIX = \"/api\";\nconst API = axios.create({ baseURL: API_BASE });\n\nconst toDateTime = (iso) => {\n  if (!iso) return \"—\";\n  const d = new Date(iso);\n  if (Number.isNaN(d.getTime())) return \"—\";\n  return d.toLocaleString();\n};\n\nconst QueryManagement = () => {\n  // auth (admin)\n  const stored = useMemo(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"user\")) || null;\n    } catch {\n      return null;\n    }\n  }, []);\n  const adminId = stored?.userId;\n\n  // data\n  const [queries, setQueries] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // alert UI like Login/UserManagement\n  const [alert, setAlert] = useState({ type: \"\", message: \"\" });\n\n  // filters\n  const [search, setSearch] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"All\"); // All | Pending | Resolved\n  const [sortOrder, setSortOrder] = useState(\"latest\"); // latest | oldest\n\n  // reply modal\n  const [showReplyModal, setShowReplyModal] = useState(false);\n  const [replyTarget, setReplyTarget] = useState(null);\n  const [replyForm, setReplyForm] = useState({\n    subject: \"\",\n    replyMessage: \"\",\n  });\n  const [sending, setSending] = useState(false);\n\n  // view answer modal\n  const [showViewModal, setShowViewModal] = useState(false);\n  const [viewTarget, setViewTarget] = useState(null);\n\n  // auto hide alert\n  useEffect(() => {\n    if (alert.message) {\n      const timer = setTimeout(() => setAlert({ type: \"\", message: \"\" }), 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [alert]);\n\n  const setErr = (message) => setAlert({ type: \"error\", message });\n  const setOk = (message) => setAlert({ type: \"success\", message });\n\n  // =========================\n  // Fetch queries\n  // =========================\n  const fetchQueries = async () => {\n    setLoading(true);\n    try {\n      const res = await API.get(`${API_PREFIX}/admin/queries`);\n      const arr = Array.isArray(res.data?.queries) ? res.data.queries : [];\n      setQueries(arr);\n    } catch (e) {\n      setErr(\"Failed to load queries\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchQueries();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [adminId]);\n\n  // =========================\n  // Filtered list\n  // =========================\n  const filtered = useMemo(() => {\n    const q = search.trim().toLowerCase();\n\n    const list = queries\n      .filter((x) => {\n        if (statusFilter === \"All\") return true;\n        return String(x.status || \"\") === statusFilter;\n      })\n      .filter((x) => {\n        if (!q) return true;\n        const hay =\n          `${x.queryId} ${x.name} ${x.email} ${x.message} ${x.status} ${x.replyMessage || \"\"}`\n            .toLowerCase();\n        return hay.includes(q);\n      });\n\n    list.sort((a, b) => {\n      const da = new Date(a.createdAt || 0).getTime();\n      const db = new Date(b.createdAt || 0).getTime();\n      return sortOrder === \"latest\" ? db - da : da - db;\n    });\n\n    return list;\n  }, [queries, search, statusFilter, sortOrder]);\n\n  const counts = useMemo(() => {\n    const pending = queries.filter((q) => q.status === \"Pending\").length;\n    const resolved = queries.filter((q) => q.status === \"Resolved\").length;\n    return { pending, resolved, total: queries.length };\n  }, [queries]);\n\n  // =========================\n  // Reply modal handlers\n  // =========================\n  const openReply = (q) => {\n    setReplyTarget(q);\n    setReplyForm({\n      subject: `Re: ${q?.queryId || \"Climatrix SL Support\"}`,\n      replyMessage: \"\",\n    });\n    setShowReplyModal(true);\n  };\n\n  const closeReply = () => {\n    setShowReplyModal(false);\n    setReplyTarget(null);\n    setReplyForm({ subject: \"\", replyMessage: \"\" });\n  };\n\n  const submitReply = async () => {\n    if (!replyTarget?._id) return;\n\n    const msg = String(replyForm.replyMessage || \"\").trim();\n    if (!msg) return setErr(\"Reply message is required\");\n\n    setSending(true);\n    try {\n      await API.post(`${API_PREFIX}/admin/queries/${replyTarget._id}/reply`, {\n        subject: replyForm.subject,\n        replyMessage: msg,\n        repliedBy: adminId, // optional, stored in DB\n      });\n\n      setOk(\"Reply sent and query marked as resolved\");\n      closeReply();\n      fetchQueries();\n    } catch (e) {\n      setErr(e?.response?.data?.message || \"Failed to send reply\");\n    } finally {\n      setSending(false);\n    }\n  };\n\n  // =========================\n  // View answer modal handlers\n  // =========================\n  const openView = (q) => {\n    setViewTarget(q);\n    setShowViewModal(true);\n  };\n\n  const closeView = () => {\n    setShowViewModal(false);\n    setViewTarget(null);\n  };\n\n  const statusChipClass = (s) =>\n    s === \"Resolved\" ? \"chip chip-strong\" : \"chip\";\n\n  return (\n    <div className=\"history-page\">\n      {/* Alert like Login page */}\n      {alert.message && (\n        <div\n          className={`login-alert ${\n            alert.type === \"error\" ? \"login-alert-error\" : \"login-alert-success\"\n          }`}\n        >\n          {alert.message}\n        </div>\n      )}\n\n      {/* Loading overlay */}\n      {loading && (\n        <div className=\"loading-overlay\">\n          <div className=\"spinner-border text-light\" role=\"status\" />\n        </div>\n      )}\n\n      <div className=\"history-container\">\n        {/* HERO */}\n        <div className=\"history-hero\">\n          <h1 className=\"history-title\">\n            <span className=\"brand-gradient\">Query</span> Management\n          </h1>\n          <p className=\"history-subtitle\">\n            Review user queries, reply by email, and track resolved tickets.\n          </p>\n\n          <div className=\"text-white-50\" style={{ marginTop: 8 }}>\n            Total: <b className=\"text-white\">{counts.total}</b> • Pending:{\" \"}\n            <b className=\"text-white\">{counts.pending}</b> • Resolved:{\" \"}\n            <b className=\"text-white\">{counts.resolved}</b>\n          </div>\n        </div>\n\n        {/* CONTROLS */}\n        <div className=\"glass-panel history-controls\">\n          <div\n            className=\"history-controls-row\"\n            style={{ gridTemplateColumns: \"1.2fr 0.7fr 0.6fr 0.35fr\" }}\n          >\n            <input\n              className=\"form-control glass-input history-search\"\n              placeholder=\"Search by id, name, email, status, message...\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n            />\n\n            <select\n              className=\"form-select glass-select history-select\"\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              title=\"Status filter\"\n            >\n              <option value=\"All\">All</option>\n              <option value=\"Pending\">Pending</option>\n              <option value=\"Resolved\">Resolved</option>\n            </select>\n\n            <select\n              className=\"form-select glass-select history-select\"\n              value={sortOrder}\n              onChange={(e) => setSortOrder(e.target.value)}\n              title=\"Sort\"\n            >\n              <option value=\"latest\">Latest</option>\n              <option value=\"oldest\">Oldest</option>\n            </select>\n\n            <button\n              className=\"btn btn-outline-light history-refresh icon-btn\"\n              onClick={fetchQueries}\n              disabled={loading}\n              title=\"Refresh\"\n              type=\"button\"\n            >\n              <FaSyncAlt />\n            </button>\n          </div>\n\n          <div className=\"history-count text-white-50\">\n            Showing <b>{filtered.length}</b> of <b>{queries.length}</b> queries\n          </div>\n        </div>\n\n        {/* TABLE */}\n        <div className=\"glass-panel mt-3\">\n          <div className=\"ins-card-title\">All Queries</div>\n\n          <div className=\"ins-table-wrap\">\n            <table className=\"table table-dark table-hover mb-0 ins-table\">\n              <thead>\n                <tr>\n                  <th style={{ width: 110 }}>Query ID</th>\n                  <th style={{ width: 160 }}>Name</th>\n                  <th style={{ width: 210 }}>Email</th>\n                  <th>Message</th>\n                  <th style={{ width: 110 }}>Status</th>\n                  <th style={{ width: 160 }}>Submitted</th>\n                  <th style={{ width: 160 }}>Answered</th>\n                  <th style={{ width: 150 }}>Actions</th>\n                </tr>\n              </thead>\n\n              <tbody>\n                {!loading && filtered.length === 0 ? (\n                  <tr>\n                    <td colSpan=\"8\" className=\"text-center text-white-50 py-4\">\n                      No queries found (for current filters)\n                    </td>\n                  </tr>\n                ) : (\n                  filtered.map((q) => (\n                    <tr key={q._id}>\n                      <td>{q.queryId}</td>\n                      <td>{q.name}</td>\n                      <td>{q.email}</td>\n                      <td style={{ maxWidth: 520 }}>\n                        <div\n                          style={{\n                            whiteSpace: \"nowrap\",\n                            overflow: \"hidden\",\n                            textOverflow: \"ellipsis\",\n                            maxWidth: 520,\n                          }}\n                          title={q.message}\n                        >\n                          {q.message}\n                        </div>\n                      </td>\n                      <td>\n                        <span className={statusChipClass(q.status)}>\n                          {q.status}\n                        </span>\n                      </td>\n                      <td>{toDateTime(q.createdAt)}</td>\n                      <td>{q.status === \"Resolved\" ? toDateTime(q.repliedAt) : \"—\"}</td>\n                      <td>\n                        <div style={{ display: \"flex\", gap: 10 }}>\n                          {/* Reply */}\n                          <button\n                            className=\"icon-action-btn\"\n                            title=\"Reply\"\n                            type=\"button\"\n                            onClick={() => openReply(q)}\n                          >\n                            <FaReply />\n                          </button>\n\n                          {/* View Answer (only if resolved) */}\n                          <button\n                            className=\"icon-action-btn\"\n                            title=\"View Answer\"\n                            type=\"button\"\n                            disabled={q.status !== \"Resolved\"}\n                            onClick={() => openView(q)}\n                          >\n                            <FaEye />\n                          </button>\n\n                          {/* Quick email icon (optional visual) */}\n                          <button\n                            className=\"icon-action-btn\"\n                            title=\"Email\"\n                            type=\"button\"\n                            onClick={() => openReply(q)}\n                          >\n                            <FaEnvelope />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n\n          <div className=\"ins-table-note text-white-50\">\n            Pending queries can be replied to via email. Once replied, they are marked as{\" \"}\n            <b>Resolved</b> and the answer is saved.\n          </div>\n        </div>\n      </div>\n\n      {/* =======================\n          REPLY MODAL (logout style)\n      ======================= */}\n      {showReplyModal && replyTarget && (\n        <div className=\"modal d-block logout-overlay\">\n          <div className=\"modal-dialog modal-dialog-centered\">\n            <div className=\"modal-content logout-glass-card text-white\">\n              <div className=\"modal-header border-0\">\n                <h5 className=\"modal-title fw-bold\">\n                  Reply to {replyTarget.queryId}\n                </h5>\n\n                <button\n                  className=\"btn btn-link text-white\"\n                  onClick={closeReply}\n                  style={{ textDecoration: \"none\" }}\n                  aria-label=\"Close\"\n                  type=\"button\"\n                >\n                  <FaTimes />\n                </button>\n              </div>\n\n              <div className=\"modal-body\">\n                <div className=\"text-white-50\" style={{ fontSize: 13 }}>\n                  <div>\n                    <b>User</b> {replyTarget.name} ({replyTarget.email})\n                  </div>\n                  <div className=\"mt-1\">\n                    <b>Submitted</b> {toDateTime(replyTarget.createdAt)}\n                  </div>\n                </div>\n\n                <div className=\"mt-3\">\n                  <div className=\"ins-label\">User Message</div>\n                  <div\n                    style={{\n                      whiteSpace: \"pre-wrap\",\n                      background: \"rgba(0,0,0,0.22)\",\n                      border: \"1px solid rgba(255,255,255,0.10)\",\n                      borderRadius: 14,\n                      padding: 12,\n                    }}\n                  >\n                    {replyTarget.message}\n                  </div>\n                </div>\n\n                <div className=\"mt-3\">\n                  <label className=\"ins-label\">Subject (optional)</label>\n                  <input\n                    className=\"form-control glass-input\"\n                    value={replyForm.subject}\n                    onChange={(e) =>\n                      setReplyForm((p) => ({ ...p, subject: e.target.value }))\n                    }\n                    placeholder=\"Subject\"\n                  />\n                </div>\n\n                <div className=\"mt-3\">\n                  <label className=\"ins-label\">Reply Message</label>\n                  <textarea\n                    className=\"form-control glass-input\"\n                    rows={6}\n                    value={replyForm.replyMessage}\n                    onChange={(e) =>\n                      setReplyForm((p) => ({ ...p, replyMessage: e.target.value }))\n                    }\n                    placeholder=\"Type your reply...\"\n                  />\n                </div>\n\n                <div className=\"text-white-50 mt-2\" style={{ fontSize: 12 }}>\n                  Sending will email the user and mark this query as <b>Resolved</b>.\n                </div>\n              </div>\n\n              <div className=\"modal-footer border-0\">\n                <button\n                  className=\"btn btn-outline-light\"\n                  onClick={closeReply}\n                  type=\"button\"\n                  disabled={sending}\n                >\n                  Cancel\n                </button>\n\n                <button\n                  className=\"btn btn-green-custom\"\n                  onClick={submitReply}\n                  type=\"button\"\n                  disabled={sending}\n                >\n                  {sending ? \"Sending...\" : \"Send Reply\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* =======================\n          VIEW ANSWER MODAL\n      ======================= */}\n      {showViewModal && viewTarget && (\n        <div className=\"modal d-block logout-overlay\">\n          <div className=\"modal-dialog modal-dialog-centered\">\n            <div className=\"modal-content logout-glass-card text-white\">\n              <div className=\"modal-header border-0\">\n                <h5 className=\"modal-title fw-bold\">\n                  Answer • {viewTarget.queryId}\n                </h5>\n\n                <button\n                  className=\"btn btn-link text-white\"\n                  onClick={closeView}\n                  style={{ textDecoration: \"none\" }}\n                  aria-label=\"Close\"\n                  type=\"button\"\n                >\n                  <FaTimes />\n                </button>\n              </div>\n\n              <div className=\"modal-body\">\n                <div className=\"text-white-50\" style={{ fontSize: 13 }}>\n                  <div>\n                    <b>User</b> {viewTarget.name} ({viewTarget.email})\n                  </div>\n                  <div className=\"mt-1\">\n                    <b>Submitted</b> {toDateTime(viewTarget.createdAt)}\n                  </div>\n                  <div className=\"mt-1\">\n                    <b>Answered</b> {toDateTime(viewTarget.repliedAt)}\n                  </div>\n                  {viewTarget.repliedBy !== null && viewTarget.repliedBy !== undefined && (\n                    <div className=\"mt-1\">\n                      <b>Replied By (Admin ID)</b> {viewTarget.repliedBy}\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"mt-3\">\n                  <div className=\"ins-label\">User Message</div>\n                  <div\n                    style={{\n                      whiteSpace: \"pre-wrap\",\n                      background: \"rgba(0,0,0,0.22)\",\n                      border: \"1px solid rgba(255,255,255,0.10)\",\n                      borderRadius: 14,\n                      padding: 12,\n                    }}\n                  >\n                    {viewTarget.message}\n                  </div>\n                </div>\n\n                <div className=\"mt-3\">\n                  <div className=\"ins-label\">Admin Reply</div>\n                  <div\n                    style={{\n                      whiteSpace: \"pre-wrap\",\n                      background: \"rgba(0,0,0,0.22)\",\n                      border: \"1px solid rgba(255,255,255,0.10)\",\n                      borderRadius: 14,\n                      padding: 12,\n                    }}\n                  >\n                    {viewTarget.replyMessage || \"—\"}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"modal-footer border-0\">\n                <button className=\"btn btn-outline-light\" onClick={closeView} type=\"button\">\n                  Close\n                </button>\n\n                <button\n                  className=\"btn btn-green-custom\"\n                  onClick={() => {\n                    closeView();\n                    openReply(viewTarget);\n                  }}\n                  type=\"button\"\n                >\n                  Reply Again\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default QueryManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}