{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Assignments\\\\Nadil\\\\Final\\\\Climatrix\\\\react_frontend\\\\src\\\\pages\\\\admin\\\\AlertManagement.js\",\n  _s = $RefreshSig$();\n// pages/admin/AlertManagement.js\nimport axios from \"axios\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { FaPaperPlane, FaSyncAlt, FaTimes } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = \"http://localhost:5001\";\nconst API_PREFIX = \"/api\";\nconst API = axios.create({\n  baseURL: API_BASE\n});\n\n// ✅ Same logic as Profile.js/UserManagement.js (so images always work)\nconst toRelativeImagePath = pic => {\n  if (!pic) return \"\";\n  let s = String(pic).trim();\n  s = s.replace(\"/undefined/\", \"/\").replace(\"undefined//\", \"\");\n\n  // If API returns full URL, extract pathname\n  if (/^https?:\\/\\//i.test(s)) {\n    try {\n      s = new URL(s).pathname; // \"/image/xxx.png\"\n    } catch {\n      const idx = s.indexOf(\"/image/\");\n      if (idx !== -1) s = s.slice(idx);\n    }\n  }\n  if (!s.startsWith(\"/\")) s = `/${s}`;\n  return s;\n};\nconst toImgSrcLikeNavbar = relativePath => {\n  if (!relativePath) return \"https://via.placeholder.com/52?text=User\";\n  return `/${String(relativePath).replace(/^\\/+/, \"\")}`;\n};\nconst AlertManagement = () => {\n  _s();\n  var _form$subject;\n  const stored = useMemo(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"user\")) || null;\n    } catch {\n      return null;\n    }\n  }, []);\n  const adminId = stored === null || stored === void 0 ? void 0 : stored.userId;\n\n  // ✅ Login-style alert system\n  const [alert, setAlert] = useState({\n    type: \"\",\n    message: \"\"\n  });\n\n  // loading\n  const [loading, setLoading] = useState(false);\n\n  // enabled users list\n  const [enabledUsers, setEnabledUsers] = useState([]);\n\n  // filtering\n  const [query, setQuery] = useState(\"\");\n  const [roleFilter, setRoleFilter] = useState(\"Client\"); // Client | Admin | All\n\n  // compose form\n  const [form, setForm] = useState({\n    alertType: \"Emergency Alert\",\n    subject: \"\",\n    message: \"\",\n    mode: \"enabled\",\n    // enabled | one\n    userId: \"\" // only for one user send\n  });\n\n  // preview/confirm modal\n  const [showConfirm, setShowConfirm] = useState(false);\n\n  // ✅ auto hide alert like login page\n  useEffect(() => {\n    if (alert.message) {\n      const timer = setTimeout(() => setAlert({\n        type: \"\",\n        message: \"\"\n      }), 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [alert]);\n  const setErr = message => setAlert({\n    type: \"error\",\n    message\n  });\n  const setOk = message => setAlert({\n    type: \"success\",\n    message\n  });\n  const fetchEnabledUsers = async () => {\n    setLoading(true);\n    try {\n      var _res$data;\n      // GET /api/users/alerts?enabled=true\n      const res = await API.get(`${API_PREFIX}/users/alerts?enabled=true`);\n      const arr = Array.isArray((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.users) ? res.data.users : [];\n\n      // ✅ Normalize profilePicture exactly like UserManagement\n      const normalized = arr.map(u => {\n        const rel = toRelativeImagePath(u === null || u === void 0 ? void 0 : u.profilePicture);\n        return {\n          ...u,\n          _relPic: rel,\n          _imgSrc: toImgSrcLikeNavbar(rel)\n        };\n      });\n      setEnabledUsers(normalized);\n    } catch (e) {\n      setErr(\"Failed to load enabled users\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchEnabledUsers();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [adminId]);\n  const filteredEnabled = useMemo(() => {\n    const q = query.trim().toLowerCase();\n    return enabledUsers.filter(u => {\n      if (roleFilter === \"All\") return true;\n      return String(u.role || \"\").toLowerCase() === roleFilter.toLowerCase();\n    }).filter(u => {\n      if (!q) return true;\n      const hay = `${u.userId} ${u.name} ${u.email} ${u.role}`.toLowerCase();\n      return hay.includes(q);\n    });\n  }, [enabledUsers, query, roleFilter]);\n  const selectedUser = useMemo(() => {\n    if (form.mode !== \"one\") return null;\n    const id = Number(form.userId);\n    if (!id) return null;\n    return enabledUsers.find(u => Number(u.userId) === id) || null;\n  }, [form.mode, form.userId, enabledUsers]);\n  const validateBeforeConfirm = () => {\n    if (!form.message || !String(form.message).trim()) {\n      setErr(\"Message is required\");\n      return false;\n    }\n    if (form.mode === \"one\") {\n      if (!form.userId) {\n        setErr(\"Select a user to send the alert\");\n        return false;\n      }\n      if (!selectedUser) {\n        setErr(\"Selected user is not found (or not enabled)\");\n        return false;\n      }\n    }\n    return true;\n  };\n  const openConfirm = () => {\n    if (!validateBeforeConfirm()) return;\n    setShowConfirm(true);\n  };\n  const cancelConfirm = () => setShowConfirm(false);\n  const sendAlert = async () => {\n    if (!validateBeforeConfirm()) return;\n    setLoading(true);\n    try {\n      var _res$data$sent, _res$data2, _res$data$failed, _res$data3;\n      const payload = {\n        alertType: form.alertType,\n        subject: form.subject,\n        message: form.message,\n        sendToRole: roleFilter === \"All\" ? \"All\" : roleFilter\n      };\n\n      // ✅ FIX: backend expects targetUserId (not userId)\n      if (form.mode === \"one\") {\n        payload.targetUserId = Number(form.userId);\n      }\n      const res = await API.post(`${API_PREFIX}/admin/alerts/send`, payload);\n      const sent = (_res$data$sent = (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.sent) !== null && _res$data$sent !== void 0 ? _res$data$sent : 0;\n      const failed = (_res$data$failed = (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.failed) !== null && _res$data$failed !== void 0 ? _res$data$failed : 0;\n      setOk(form.mode === \"one\" ? `Alert sent. Sent: ${sent}, Failed: ${failed}` : `Alert broadcast finished. Sent: ${sent}, Failed: ${failed}`);\n      setShowConfirm(false);\n    } catch (e) {\n      var _e$response, _e$response$data;\n      setErr((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || \"Failed to send alert\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"history-page\",\n    children: [alert.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `login-alert ${alert.type === \"error\" ? \"login-alert-error\" : \"login-alert-success\"}`,\n      children: alert.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-light\",\n        role: \"status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history-hero\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"history-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"brand-gradient\",\n            children: \"Alert\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), \" Management\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"history-subtitle\",\n          children: \"Send emergency notifications to users who enabled the alert system.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-panel history-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-controls-row\",\n          style: {\n            gridTemplateColumns: \"1.2fr 0.7fr 0.7fr 0.35fr\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control glass-input history-search\",\n            placeholder: \"Search enabled users (name, email, role, userId)...\",\n            value: query,\n            onChange: e => setQuery(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-select glass-select history-select\",\n            value: roleFilter,\n            onChange: e => setRoleFilter(e.target.value),\n            title: \"Filter recipients by role\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Client\",\n              children: \"Clients only\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Admin\",\n              children: \"Admins only\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"All\",\n              children: \"All roles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-green-custom history-refresh\",\n            onClick: openConfirm,\n            children: [/*#__PURE__*/_jsxDEV(FaPaperPlane, {\n              className: \"me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), \"Send Alert\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-light history-refresh icon-btn\",\n            onClick: fetchEnabledUsers,\n            disabled: loading,\n            title: \"Refresh enabled users\",\n            children: /*#__PURE__*/_jsxDEV(FaSyncAlt, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-count text-white-50\",\n          children: [\"Enabled users \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: enabledUsers.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 27\n          }, this), \" | Showing \", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: filteredEnabled.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-panel mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ins-card-title\",\n          children: \"Compose Alert\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row g-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-lg-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"ins-label\",\n              children: \"Alert Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select glass-select\",\n              value: form.alertType,\n              onChange: e => setForm(p => ({\n                ...p,\n                alertType: e.target.value\n              })),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Emergency Alert\",\n                children: \"Emergency Alert\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Tsunami\",\n                children: \"Tsunami\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Flooding\",\n                children: \"Flooding\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Landslide\",\n                children: \"Landslide\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Storm Warning\",\n                children: \"Storm Warning\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Other\",\n                children: \"Other\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-lg-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"ins-label\",\n              children: \"Send Mode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select glass-select\",\n              value: form.mode,\n              onChange: e => setForm(p => ({\n                ...p,\n                mode: e.target.value,\n                userId: \"\"\n              })),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"enabled\",\n                children: \"Send to enabled users (bulk)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"one\",\n                children: \"Send to one user (by userId)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-lg-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"ins-label\",\n              children: \"Target User (only for one-by-one)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select glass-select\",\n              value: form.userId,\n              onChange: e => setForm(p => ({\n                ...p,\n                userId: e.target.value\n              })),\n              disabled: form.mode !== \"one\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select enabled user...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 17\n              }, this), enabledUsers.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: u.userId,\n                children: [u.userId, \" \\u2014 \", u.name, \" (\", u.email, \")\"]\n              }, u.userId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"ins-label\",\n              children: \"Subject (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control glass-input\",\n              placeholder: \"Leave empty to auto-generate subject\",\n              value: form.subject,\n              onChange: e => setForm(p => ({\n                ...p,\n                subject: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"ins-label\",\n              children: \"Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control glass-input\",\n              rows: 6,\n              placeholder: \"Type the alert message here...\",\n              value: form.message,\n              onChange: e => setForm(p => ({\n                ...p,\n                message: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-white-50 mt-2\",\n              style: {\n                fontSize: 12\n              },\n              children: [\"Tip: If you choose \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Clients only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 36\n              }, this), \", only enabled client users will receive it.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-panel mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ins-card-title\",\n          children: \"Enabled Users (Recipients)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ins-table-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-dark table-hover mb-0 ins-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    width: 70\n                  },\n                  children: \"Picture\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"User ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: !loading && filteredEnabled.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"5\",\n                  className: \"text-center text-white-50 py-4\",\n                  children: \"No enabled users found (for current filters)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this) : filteredEnabled.map(u => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: u._imgSrc,\n                    alt: \"Profile\",\n                    style: {\n                      width: 42,\n                      height: 42,\n                      borderRadius: 999,\n                      objectFit: \"cover\",\n                      border: \"1px solid rgba(255,255,255,0.18)\",\n                      background: \"rgba(0,0,0,0.25)\"\n                    },\n                    onError: e => {\n                      e.currentTarget.src = \"https://via.placeholder.com/42?text=User\";\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.userId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"chip\",\n                    children: u.role === \"Admin\" ? \"Admin\" : \"Client\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 23\n                }, this)]\n              }, u.userId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ins-table-note text-white-50\",\n          children: [\"This list includes only users who enabled email alerts (\", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"emailAlertsEnabled = true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this), \").\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), showConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal d-block logout-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog modal-dialog-centered\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content logout-glass-card text-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header border-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title fw-bold\",\n              children: \"Confirm Send Alert\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-link text-white\",\n              onClick: cancelConfirm,\n              style: {\n                textDecoration: \"none\"\n              },\n              \"aria-label\": \"Close\",\n              type: \"button\",\n              children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-2\",\n              children: \"Are you sure you want to send this alert?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 text-white-50\",\n              style: {\n                fontSize: 13\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 21\n                }, this), \" \", form.alertType]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Role Filter \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 21\n                }, this), \" \", roleFilter === \"All\" ? \"All roles\" : roleFilter]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Mode \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 21\n                }, this), \" \", form.mode === \"one\" ? `One user (userId - ${form.userId || \"—\"})` : \"All enabled users\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 19\n              }, this), form.mode === \"one\" && selectedUser && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex align-items-center gap-3 mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: selectedUser._imgSrc,\n                  alt: \"Profile\",\n                  style: {\n                    width: 52,\n                    height: 52,\n                    borderRadius: 999,\n                    objectFit: \"cover\",\n                    border: \"1px solid rgba(255,255,255,0.18)\",\n                    background: \"rgba(0,0,0,0.25)\"\n                  },\n                  onError: e => {\n                    e.currentTarget.src = \"https://via.placeholder.com/52?text=User\";\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: selectedUser.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 467,\n                      columnNumber: 27\n                    }, this), \" (#\", selectedUser.userId, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: selectedUser.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Subject \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 21\n                }, this), \" \", (_form$subject = form.subject) !== null && _form$subject !== void 0 && _form$subject.trim() ? form.subject.trim() : `Climatrix SL Alert - ${form.alertType}`]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Message Preview \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  style: {\n                    whiteSpace: \"pre-wrap\",\n                    background: \"rgba(0,0,0,0.22)\",\n                    border: \"1px solid rgba(255,255,255,0.10)\",\n                    borderRadius: 14,\n                    padding: 12\n                  },\n                  children: form.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 19\n              }, this), form.mode !== \"one\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Estimated recipients now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 23\n                }, this), \" \", filteredEnabled.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer border-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-light\",\n              onClick: cancelConfirm,\n              type: \"button\",\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger\",\n              onClick: sendAlert,\n              type: \"button\",\n              children: \"Yes, Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n};\n_s(AlertManagement, \"fbcMVQCXg0yhbUIh/YK4ky7XyRs=\");\n_c = AlertManagement;\nexport default AlertManagement;\nvar _c;\n$RefreshReg$(_c, \"AlertManagement\");","map":{"version":3,"names":["axios","useEffect","useMemo","useState","FaPaperPlane","FaSyncAlt","FaTimes","jsxDEV","_jsxDEV","API_BASE","API_PREFIX","API","create","baseURL","toRelativeImagePath","pic","s","String","trim","replace","test","URL","pathname","idx","indexOf","slice","startsWith","toImgSrcLikeNavbar","relativePath","AlertManagement","_s","_form$subject","stored","JSON","parse","localStorage","getItem","adminId","userId","alert","setAlert","type","message","loading","setLoading","enabledUsers","setEnabledUsers","query","setQuery","roleFilter","setRoleFilter","form","setForm","alertType","subject","mode","showConfirm","setShowConfirm","timer","setTimeout","clearTimeout","setErr","setOk","fetchEnabledUsers","_res$data","res","get","arr","Array","isArray","data","users","normalized","map","u","rel","profilePicture","_relPic","_imgSrc","e","filteredEnabled","q","toLowerCase","filter","role","hay","name","email","includes","selectedUser","id","Number","find","validateBeforeConfirm","openConfirm","cancelConfirm","sendAlert","_res$data$sent","_res$data2","_res$data$failed","_res$data3","payload","sendToRole","targetUserId","post","sent","failed","_e$response","_e$response$data","response","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","gridTemplateColumns","placeholder","value","onChange","target","title","onClick","disabled","length","p","rows","fontSize","width","colSpan","src","alt","height","borderRadius","objectFit","border","background","onError","currentTarget","textDecoration","whiteSpace","padding","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Assignments/Nadil/Final/Climatrix/react_frontend/src/pages/admin/AlertManagement.js"],"sourcesContent":["// pages/admin/AlertManagement.js\nimport axios from \"axios\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { FaPaperPlane, FaSyncAlt, FaTimes } from \"react-icons/fa\";\n\nconst API_BASE = \"http://localhost:5001\";\nconst API_PREFIX = \"/api\";\nconst API = axios.create({ baseURL: API_BASE });\n\n// ✅ Same logic as Profile.js/UserManagement.js (so images always work)\nconst toRelativeImagePath = (pic) => {\n  if (!pic) return \"\";\n\n  let s = String(pic).trim();\n  s = s.replace(\"/undefined/\", \"/\").replace(\"undefined//\", \"\");\n\n  // If API returns full URL, extract pathname\n  if (/^https?:\\/\\//i.test(s)) {\n    try {\n      s = new URL(s).pathname; // \"/image/xxx.png\"\n    } catch {\n      const idx = s.indexOf(\"/image/\");\n      if (idx !== -1) s = s.slice(idx);\n    }\n  }\n\n  if (!s.startsWith(\"/\")) s = `/${s}`;\n  return s;\n};\n\nconst toImgSrcLikeNavbar = (relativePath) => {\n  if (!relativePath) return \"https://via.placeholder.com/52?text=User\";\n  return `/${String(relativePath).replace(/^\\/+/, \"\")}`;\n};\n\nconst AlertManagement = () => {\n  const stored = useMemo(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"user\")) || null;\n    } catch {\n      return null;\n    }\n  }, []);\n\n  const adminId = stored?.userId;\n\n  // ✅ Login-style alert system\n  const [alert, setAlert] = useState({ type: \"\", message: \"\" });\n\n  // loading\n  const [loading, setLoading] = useState(false);\n\n  // enabled users list\n  const [enabledUsers, setEnabledUsers] = useState([]);\n\n  // filtering\n  const [query, setQuery] = useState(\"\");\n  const [roleFilter, setRoleFilter] = useState(\"Client\"); // Client | Admin | All\n\n  // compose form\n  const [form, setForm] = useState({\n    alertType: \"Emergency Alert\",\n    subject: \"\",\n    message: \"\",\n    mode: \"enabled\", // enabled | one\n    userId: \"\", // only for one user send\n  });\n\n  // preview/confirm modal\n  const [showConfirm, setShowConfirm] = useState(false);\n\n  // ✅ auto hide alert like login page\n  useEffect(() => {\n    if (alert.message) {\n      const timer = setTimeout(() => setAlert({ type: \"\", message: \"\" }), 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [alert]);\n\n  const setErr = (message) => setAlert({ type: \"error\", message });\n  const setOk = (message) => setAlert({ type: \"success\", message });\n\n  const fetchEnabledUsers = async () => {\n    setLoading(true);\n    try {\n      // GET /api/users/alerts?enabled=true\n      const res = await API.get(`${API_PREFIX}/users/alerts?enabled=true`);\n\n      const arr = Array.isArray(res.data?.users) ? res.data.users : [];\n\n      // ✅ Normalize profilePicture exactly like UserManagement\n      const normalized = arr.map((u) => {\n        const rel = toRelativeImagePath(u?.profilePicture);\n        return { ...u, _relPic: rel, _imgSrc: toImgSrcLikeNavbar(rel) };\n      });\n\n      setEnabledUsers(normalized);\n    } catch (e) {\n      setErr(\"Failed to load enabled users\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchEnabledUsers();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [adminId]);\n\n  const filteredEnabled = useMemo(() => {\n    const q = query.trim().toLowerCase();\n\n    return enabledUsers\n      .filter((u) => {\n        if (roleFilter === \"All\") return true;\n        return String(u.role || \"\").toLowerCase() === roleFilter.toLowerCase();\n      })\n      .filter((u) => {\n        if (!q) return true;\n        const hay = `${u.userId} ${u.name} ${u.email} ${u.role}`.toLowerCase();\n        return hay.includes(q);\n      });\n  }, [enabledUsers, query, roleFilter]);\n\n  const selectedUser = useMemo(() => {\n    if (form.mode !== \"one\") return null;\n    const id = Number(form.userId);\n    if (!id) return null;\n    return enabledUsers.find((u) => Number(u.userId) === id) || null;\n  }, [form.mode, form.userId, enabledUsers]);\n\n  const validateBeforeConfirm = () => {\n    if (!form.message || !String(form.message).trim()) {\n      setErr(\"Message is required\");\n      return false;\n    }\n\n    if (form.mode === \"one\") {\n      if (!form.userId) {\n        setErr(\"Select a user to send the alert\");\n        return false;\n      }\n      if (!selectedUser) {\n        setErr(\"Selected user is not found (or not enabled)\");\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  const openConfirm = () => {\n    if (!validateBeforeConfirm()) return;\n    setShowConfirm(true);\n  };\n\n  const cancelConfirm = () => setShowConfirm(false);\n\n  const sendAlert = async () => {\n    if (!validateBeforeConfirm()) return;\n\n    setLoading(true);\n    try {\n      const payload = {\n        alertType: form.alertType,\n        subject: form.subject,\n        message: form.message,\n        sendToRole: roleFilter === \"All\" ? \"All\" : roleFilter,\n      };\n\n      // ✅ FIX: backend expects targetUserId (not userId)\n      if (form.mode === \"one\") {\n        payload.targetUserId = Number(form.userId);\n      }\n\n      const res = await API.post(`${API_PREFIX}/admin/alerts/send`, payload);\n\n      const sent = res.data?.sent ?? 0;\n      const failed = res.data?.failed ?? 0;\n\n      setOk(\n        form.mode === \"one\"\n          ? `Alert sent. Sent: ${sent}, Failed: ${failed}`\n          : `Alert broadcast finished. Sent: ${sent}, Failed: ${failed}`\n      );\n\n      setShowConfirm(false);\n    } catch (e) {\n      setErr(e?.response?.data?.message || \"Failed to send alert\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"history-page\">\n      {/* ✅ Alert UI like Login page */}\n      {alert.message && (\n        <div\n          className={`login-alert ${\n            alert.type === \"error\" ? \"login-alert-error\" : \"login-alert-success\"\n          }`}\n        >\n          {alert.message}\n        </div>\n      )}\n\n      {/* ✅ Loading overlay */}\n      {loading && (\n        <div className=\"loading-overlay\">\n          <div className=\"spinner-border text-light\" role=\"status\" />\n        </div>\n      )}\n\n      <div className=\"history-container\">\n        {/* HERO */}\n        <div className=\"history-hero\">\n          <h1 className=\"history-title\">\n            <span className=\"brand-gradient\">Alert</span> Management\n          </h1>\n          <p className=\"history-subtitle\">\n            Send emergency notifications to users who enabled the alert system.\n          </p>\n        </div>\n\n        {/* CONTROLS */}\n        <div className=\"glass-panel history-controls\">\n          <div\n            className=\"history-controls-row\"\n            style={{ gridTemplateColumns: \"1.2fr 0.7fr 0.7fr 0.35fr\" }}\n          >\n            <input\n              className=\"form-control glass-input history-search\"\n              placeholder=\"Search enabled users (name, email, role, userId)...\"\n              value={query}\n              onChange={(e) => setQuery(e.target.value)}\n            />\n\n            <select\n              className=\"form-select glass-select history-select\"\n              value={roleFilter}\n              onChange={(e) => setRoleFilter(e.target.value)}\n              title=\"Filter recipients by role\"\n            >\n              <option value=\"Client\">Clients only</option>\n              <option value=\"Admin\">Admins only</option>\n              <option value=\"All\">All roles</option>\n            </select>\n\n            <button className=\"btn btn-green-custom history-refresh\" onClick={openConfirm}>\n              <FaPaperPlane className=\"me-2\" />\n              Send Alert\n            </button>\n\n            <button\n              className=\"btn btn-outline-light history-refresh icon-btn\"\n              onClick={fetchEnabledUsers}\n              disabled={loading}\n              title=\"Refresh enabled users\"\n            >\n              <FaSyncAlt />\n            </button>\n          </div>\n\n          <div className=\"history-count text-white-50\">\n            Enabled users <b>{enabledUsers.length}</b> | Showing {\" \"}\n            <b>{filteredEnabled.length}</b>\n          </div>\n        </div>\n\n        {/* COMPOSE CARD */}\n        <div className=\"glass-panel mt-3\">\n          <div className=\"ins-card-title\">Compose Alert</div>\n\n          <div className=\"row g-3\">\n            <div className=\"col-12 col-lg-4\">\n              <label className=\"ins-label\">Alert Type</label>\n              <select\n                className=\"form-select glass-select\"\n                value={form.alertType}\n                onChange={(e) => setForm((p) => ({ ...p, alertType: e.target.value }))}\n              >\n                <option value=\"Emergency Alert\">Emergency Alert</option>\n                <option value=\"Tsunami\">Tsunami</option>\n                <option value=\"Flooding\">Flooding</option>\n                <option value=\"Landslide\">Landslide</option>\n                <option value=\"Storm Warning\">Storm Warning</option>\n                <option value=\"Other\">Other</option>\n              </select>\n            </div>\n\n            <div className=\"col-12 col-lg-4\">\n              <label className=\"ins-label\">Send Mode</label>\n              <select\n                className=\"form-select glass-select\"\n                value={form.mode}\n                onChange={(e) => setForm((p) => ({ ...p, mode: e.target.value, userId: \"\" }))}\n              >\n                <option value=\"enabled\">Send to enabled users (bulk)</option>\n                <option value=\"one\">Send to one user (by userId)</option>\n              </select>\n            </div>\n\n            <div className=\"col-12 col-lg-4\">\n              <label className=\"ins-label\">Target User (only for one-by-one)</label>\n              <select\n                className=\"form-select glass-select\"\n                value={form.userId}\n                onChange={(e) => setForm((p) => ({ ...p, userId: e.target.value }))}\n                disabled={form.mode !== \"one\"}\n              >\n                <option value=\"\">Select enabled user...</option>\n                {enabledUsers.map((u) => (\n                  <option key={u.userId} value={u.userId}>\n                    {u.userId} — {u.name} ({u.email})\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"col-12\">\n              <label className=\"ins-label\">Subject (optional)</label>\n              <input\n                className=\"form-control glass-input\"\n                placeholder=\"Leave empty to auto-generate subject\"\n                value={form.subject}\n                onChange={(e) => setForm((p) => ({ ...p, subject: e.target.value }))}\n              />\n            </div>\n\n            <div className=\"col-12\">\n              <label className=\"ins-label\">Message</label>\n              <textarea\n                className=\"form-control glass-input\"\n                rows={6}\n                placeholder=\"Type the alert message here...\"\n                value={form.message}\n                onChange={(e) => setForm((p) => ({ ...p, message: e.target.value }))}\n              />\n              <div className=\"text-white-50 mt-2\" style={{ fontSize: 12 }}>\n                Tip: If you choose <b>Clients only</b>, only enabled client users will receive it.\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ENABLED USERS TABLE */}\n        <div className=\"glass-panel mt-3\">\n          <div className=\"ins-card-title\">Enabled Users (Recipients)</div>\n\n          <div className=\"ins-table-wrap\">\n            <table className=\"table table-dark table-hover mb-0 ins-table\">\n              <thead>\n                <tr>\n                  <th style={{ width: 70 }}>Picture</th>\n                  <th>User ID</th>\n                  <th>Name</th>\n                  <th>Email</th>\n                  <th>Role</th>\n                </tr>\n              </thead>\n\n              <tbody>\n                {!loading && filteredEnabled.length === 0 ? (\n                  <tr>\n                    <td colSpan=\"5\" className=\"text-center text-white-50 py-4\">\n                      No enabled users found (for current filters)\n                    </td>\n                  </tr>\n                ) : (\n                  filteredEnabled.map((u) => (\n                    <tr key={u.userId}>\n                      <td>\n                        <img\n                          src={u._imgSrc}\n                          alt=\"Profile\"\n                          style={{\n                            width: 42,\n                            height: 42,\n                            borderRadius: 999,\n                            objectFit: \"cover\",\n                            border: \"1px solid rgba(255,255,255,0.18)\",\n                            background: \"rgba(0,0,0,0.25)\",\n                          }}\n                          onError={(e) => {\n                            e.currentTarget.src = \"https://via.placeholder.com/42?text=User\";\n                          }}\n                        />\n                      </td>\n                      <td>{u.userId}</td>\n                      <td>{u.name}</td>\n                      <td>{u.email}</td>\n                      <td>\n                        <span className=\"chip\">{u.role === \"Admin\" ? \"Admin\" : \"Client\"}</span>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n\n          <div className=\"ins-table-note text-white-50\">\n            This list includes only users who enabled email alerts (\n            <b>emailAlertsEnabled = true</b>).\n          </div>\n        </div>\n      </div>\n\n      {/* CONFIRM SEND MODAL */}\n      {showConfirm && (\n        <div className=\"modal d-block logout-overlay\">\n          <div className=\"modal-dialog modal-dialog-centered\">\n            <div className=\"modal-content logout-glass-card text-white\">\n              <div className=\"modal-header border-0\">\n                <h5 className=\"modal-title fw-bold\">Confirm Send Alert</h5>\n\n                <button\n                  className=\"btn btn-link text-white\"\n                  onClick={cancelConfirm}\n                  style={{ textDecoration: \"none\" }}\n                  aria-label=\"Close\"\n                  type=\"button\"\n                >\n                  <FaTimes />\n                </button>\n              </div>\n\n              <div className=\"modal-body\">\n                <p className=\"mb-2\">Are you sure you want to send this alert?</p>\n\n                <div className=\"mt-3 text-white-50\" style={{ fontSize: 13 }}>\n                  <div>\n                    <b>Type</b> {form.alertType}\n                  </div>\n\n                  <div className=\"mt-1\">\n                    <b>Role Filter </b> {roleFilter === \"All\" ? \"All roles\" : roleFilter}\n                  </div>\n\n                  <div className=\"mt-1\">\n                    <b>Mode </b>{\" \"}\n                    {form.mode === \"one\"\n                      ? `One user (userId - ${form.userId || \"—\"})`\n                      : \"All enabled users\"}\n                  </div>\n\n                  {form.mode === \"one\" && selectedUser && (\n                    <div className=\"d-flex align-items-center gap-3 mt-3\">\n                      <img\n                        src={selectedUser._imgSrc}\n                        alt=\"Profile\"\n                        style={{\n                          width: 52,\n                          height: 52,\n                          borderRadius: 999,\n                          objectFit: \"cover\",\n                          border: \"1px solid rgba(255,255,255,0.18)\",\n                          background: \"rgba(0,0,0,0.25)\",\n                        }}\n                        onError={(e) => {\n                          e.currentTarget.src = \"https://via.placeholder.com/52?text=User\";\n                        }}\n                      />\n                      <div>\n                        <div>\n                          <b>{selectedUser.name}</b> (#{selectedUser.userId})\n                        </div>\n                        <div>{selectedUser.email}</div>\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"mt-3\">\n                    <b>Subject </b>{\" \"}\n                    {form.subject?.trim()\n                      ? form.subject.trim()\n                      : `Climatrix SL Alert - ${form.alertType}`}\n                  </div>\n\n                  <div className=\"mt-2\">\n                    <b>Message Preview </b>\n                    <div\n                      className=\"mt-2\"\n                      style={{\n                        whiteSpace: \"pre-wrap\",\n                        background: \"rgba(0,0,0,0.22)\",\n                        border: \"1px solid rgba(255,255,255,0.10)\",\n                        borderRadius: 14,\n                        padding: 12,\n                      }}\n                    >\n                      {form.message}\n                    </div>\n                  </div>\n\n                  {form.mode !== \"one\" && (\n                    <div className=\"mt-3\">\n                      <b>Estimated recipients now</b> {filteredEnabled.length}\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"modal-footer border-0\">\n                <button className=\"btn btn-outline-light\" onClick={cancelConfirm} type=\"button\">\n                  No\n                </button>\n\n                <button className=\"btn btn-danger\" onClick={sendAlert} type=\"button\">\n                  Yes, Send\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AlertManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}